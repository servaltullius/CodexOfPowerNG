# Codex of Power NG v1.0.7-rc.13 (2026-02-19, Pre-release)

## 요약
이번 프리릴리즈는 저장 로드 후 소지무게 보상치가 간헐적으로 반영되지 않던 문제를 중심으로 보정 타이밍을 강화한 패치입니다.  
로드 직후 동기화 경로에서 carry weight(+소지무게) 보정이 누락되지 않도록 즉시 적용/추가 재동기화를 보강했습니다.

## 주요 변경점
- 소지무게(`kCarryWeight`) 보상 동기화에서 non-trivial delta를 감지하면 즉시 적용
- `kPostLoadGame`/`kNewGame` 이벤트에서 carry-weight quick resync를 추가 예약
- 로드 시나리오 회귀 테스트(상태는 +5인데 actor snapshot은 base인 케이스) 추가
- 정책 테스트에 post-load full sync + carry quick sync 호출 검증 추가

## 사용자 영향
- 저장 불러오기 직후 소지무게 보상 반영 누락 빈도가 크게 줄어듭니다.
- 치명타/저항 캡 보정 정책 및 기존 UI 사용 흐름은 유지됩니다.
- 기존 저장 파일 포맷/사용 방식 변화는 없습니다.

## 기술 변경 상세
- 동기화 즉시 적용 정책(소지무게):
  - `src/Rewards.cpp`
- 로드 후 carry quick resync 예약:
  - `src/main.cpp`
- 회귀 테스트:
  - `tests/rewards_resync.test.cpp`
  - `tests/reward_caps_policy.test.cjs`

## 검증
- `node --test tests/reward_caps_policy.test.cjs tests/settings_payload_validation.test.cjs` 통과
- `c++ -std=c++20 -O0 -g -Wall -Wextra -I./include tests/rewards_resync.test.cpp -o /tmp/rewards_resync.test && /tmp/rewards_resync.test` 통과
- `scripts/test.sh` 통과 (`JS 61/61`, `C++ host tests` 통과)
- `export VCPKG_ROOT="/mnt/c/Users/kdw73/vcpkg" && cmake --build --preset wsl-release` 통과
- `cd dist/CodexOfPowerNG && zip -r -FS "../../releases/Codex of Power NG.zip" .` 통과

## 호환성/주의사항
- Codex of Power / SVCollection과 저장 호환되지 않습니다.
- 런타임 요구사항은 기존과 동일합니다:
  - SKSE64
  - Address Library for SKSE Plugins
  - Prisma UI
  - Media Keys Fix SKSE

## 패키지
- 태그: `v1.0.7-rc.13`
- 릴리즈: `https://github.com/servaltullius/CodexOfPowerNG/releases/tag/v1.0.7-rc.13`
- 에셋: `Codex of Power NG.zip`
- 저장소 내 아카이브: `releases/Codex of Power NG.zip`
