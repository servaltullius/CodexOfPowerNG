# Codex of Power NG v1.0.7-rc.2 (2026-02-18, Pre-release)

## 요약
이번 프리릴리즈는 저장 불러오기 이후 여러 보상 Actor Value(예: CarryWeight, CriticalChance) 반영 누락 가능성을 줄이기 위한 안정화 업데이트입니다.  
로드 직후 보상 동기화를 다중 패스 + 다중 관측치 기반으로 보강해 AV별 반영 편차를 완화했습니다.

## 주요 변경점
- 보상 동기화 계산에 `current/base`, `permanent/base`, `permanent modifier` 관측치를 함께 사용
- 기대 보상치(`rewardTotals`)와 가장 근접한 관측치를 선택해 누락분만 보정
- 로드 후 보상 동기화를 다중 패스(프레임 체인)로 수행해 초기 프레임 반영 지연 대응
- co-save 로드 완료 시점에서도 동기화 트리거 추가
- 보상 동기화 계산 유틸/회귀 테스트 강화

## 사용자 영향
- 저장 로드 직후 보상 AV가 부분적으로 덜 적용되는 현상이 완화됩니다.
- 기존 등록/보상 사용 흐름은 변경되지 않습니다.
- 기능 변경은 안정화(복구 정확도) 영역에 한정됩니다.

## 기술 변경 상세
- 보상 동기화 계산 개선:
  - `include/CodexOfPowerNG/RewardsResync.h`
  - `src/Rewards.cpp`
- co-save 로드 후 동기화 훅:
  - `src/SerializationLoad.cpp`
- 회귀 테스트:
  - `tests/rewards_resync.test.cpp`

## 검증
- `./scripts/test.sh` 통과 (`JS 50/50`, `C++ host tests` 통과)
- `cmake --build --preset wsl-release` 통과
- `cmake --install build/wsl-release` 통과
- `cd dist/CodexOfPowerNG && zip -r -FS "../../releases/Codex of Power NG.zip" .` 통과

## 호환성/주의사항
- Codex of Power / SVCollection과 저장 호환되지 않습니다.
- 런타임 요구사항은 기존과 동일합니다:
  - SKSE64
  - Address Library for SKSE Plugins
  - Prisma UI
  - Media Keys Fix SKSE
- 본 프리릴리즈는 로드 후 보상 반영 안정화 목적이며 신규 콘텐츠 추가는 없습니다.

## 패키지
- 태그: `v1.0.7-rc.2`
- 릴리즈: `https://github.com/servaltullius/CodexOfPowerNG/releases/tag/v1.0.7-rc.2`
- 에셋: `Codex.of.Power.NG.zip`
- 저장소 내 아카이브: `releases/Codex of Power NG.zip`
