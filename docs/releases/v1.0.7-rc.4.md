# Codex of Power NG v1.0.7-rc.4 (2026-02-18, Pre-release)

## 요약
이번 프리릴리즈는 업데이트/재설치 이후에도 사용자 설정이 유지되도록 설정 저장 경로를 분리한 안정화 업데이트입니다.  
배포 기본값 템플릿과 사용자 오버라이드를 분리해, 인게임 저장 설정이 패키지 덮어쓰기 영향을 덜 받도록 개선했습니다.

## 주요 변경점
- 설정 저장 대상을 `settings.json`에서 `settings.user.json`으로 변경
- 설정 로드 순서를 `settings.json` -> `settings.user.json` 레이어 방식으로 정리
- 설정 경로/레이어링 회귀 방지 테스트 추가
- 문서(README, Prisma UI JS API 계약)에서 새 설정 파일 정책 반영

## 사용자 영향
- 인게임 Settings 저장값이 `settings.user.json`에 기록되어 업데이트/재설치 시 초기화될 가능성이 줄어듭니다.
- 기존 `settings.json`은 기본값 템플릿 역할로 유지됩니다.
- 설정 UI 사용 방식 자체는 변경되지 않습니다.

## 기술 변경 상세
- 설정 상수:
  - `include/CodexOfPowerNG/Constants.h`
- 설정 로드/저장 로직:
  - `src/Config.cpp`
- 문서:
  - `README.md`
  - `docs/contracts/prismaui-js-api.md`
- 회귀 테스트:
  - `tests/config_settings_layering.test.cjs`

## 검증
- `./scripts/test.sh` 통과 (`JS 53/53`, `C++ host tests` 통과)
- `cmake --build --preset wsl-release` 통과
- `cmake --install build/wsl-release` 통과
- `cd dist/CodexOfPowerNG && zip -r -FS "../../releases/Codex of Power NG.zip" .` 통과

## 호환성/주의사항
- Codex of Power / SVCollection과 저장 호환되지 않습니다.
- 런타임 요구사항은 기존과 동일합니다:
  - SKSE64
  - Address Library for SKSE Plugins
  - Prisma UI
  - Media Keys Fix SKSE
- 사용자 설정 유지 효과를 위해 `Data/SKSE/Plugins/CodexOfPowerNG/settings.user.json` 보존을 권장합니다.

## 패키지
- 태그: `v1.0.7-rc.4`
- 릴리즈: `https://github.com/servaltullius/CodexOfPowerNG/releases/tag/v1.0.7-rc.4`
- 에셋: `Codex of Power NG.zip`
- 저장소 내 아카이브: `releases/Codex of Power NG.zip`
