# Codex of Power NG v1.0.7-rc.6 (2026-02-18, Pre-release)

## 요약
이번 프리릴리즈는 CarryWeight 보상 반영 지연/누락 문제를 줄이기 위한 동기화 경로 개선입니다.
보상 직후 전역 동기화 대신 CarryWeight 전용 quick resync를 도입해 반영 안정성과 비용을 함께 조정했습니다.

## 주요 변경점
- CarryWeight 보상 직후 `SyncRewardTotalsToPlayer()` 전체 호출 제거
- `ScheduleCarryWeightQuickResync()` 추가 (최대 3회, 200ms 간격, 중복 예약 방지)
- CarryWeight 동기화 delta 계산을 `ComputeRewardSyncDeltaFromSnapshot(...)` 기반으로 복원
- 회귀 테스트 보강(JS/C++)

## 사용자 영향
- CarryWeight +5 보상 획득 시 실제 소지 무게 반영이 더 빠르고 안정적으로 수렴합니다.
- 전역 동기화 남용을 줄여 보상 획득 시점의 불필요한 부하 가능성을 낮춥니다.
- 치명타 확률/저항 캡 관련 기존 정책 변경은 포함하지 않습니다(회귀 없음).

## 기술 변경 상세
- 보상 API:
  - `include/CodexOfPowerNG/Rewards.h`
- 보상 지급 경로:
  - `src/RewardsCore.cpp`
- 동기화/quick resync 로직:
  - `src/Rewards.cpp`
- 테스트:
  - `tests/reward_caps_policy.test.cjs`
  - `tests/rewards_resync.test.cpp`

## 검증
- `scripts/test.sh` 통과 (`JS 57/57`, `C++ host tests` 통과)
- `cmake --build --preset wsl-release` 통과
- `cmake --install build/wsl-release` 통과
- `cd dist/CodexOfPowerNG && zip -r -FS "../../releases/Codex of Power NG.zip" .` 통과

## 호환성/주의사항
- Codex of Power / SVCollection과 저장 호환되지 않습니다.
- 런타임 요구사항은 기존과 동일합니다:
  - SKSE64
  - Address Library for SKSE Plugins
  - Prisma UI
  - Media Keys Fix SKSE
- 본 릴리즈는 CarryWeight 보상 동기화 안정화 중심 변경이며 신규 콘텐츠 추가는 없습니다.

## 패키지
- 태그: `v1.0.7-rc.6`
- 릴리즈: `https://github.com/servaltullius/CodexOfPowerNG/releases/tag/v1.0.7-rc.6`
- 에셋: `Codex of Power NG.zip`
- 저장소 내 아카이브: `releases/Codex of Power NG.zip`
