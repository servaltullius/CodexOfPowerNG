# Codex of Power NG v1.0.7-rc.9 (2026-02-18, Pre-release)

## 요약
이번 프리릴리즈는 구버전 저장에서 누락된 소지무게 보상을 복구하기 위한 **수동 1회 복구 기능**을 추가한 업데이트입니다.
Rewards 탭에 `Recover Carry +5` 버튼을 추가하고, save 단위로 1회만 적용되도록 상태를 직렬화합니다.

## 주요 변경점
- Rewards 탭에 `Recover Carry +5` 버튼 추가
- JS 요청 `copng_recoverCarryWeight` 추가 및 백엔드 처리 연결
- 1회 복구 상태(`carryWeightRecoveryUsed`)를 co-save에 저장/로드
- 복구 실행 시 CarryWeight +5 적용 후 quick-resync 연계
- UI 번역/확인 다이얼로그 문구 추가(영/한)

## 사용자 영향
- 기존 저장에서 소지무게 보상이 기록 누락된 경우, UI 버튼으로 1회 복구할 수 있습니다.
- 이미 복구를 사용했거나 이미 소지무게 보상이 기록된 저장에서는 중복 적용되지 않습니다.
- 기존 등록/보상/설정 플로우는 유지됩니다.

## 기술 변경 상세
- 상태/상수:
  - `include/CodexOfPowerNG/State.h`
  - `include/CodexOfPowerNG/Constants.h`
- 보상 복구 API:
  - `include/CodexOfPowerNG/Rewards.h`
  - `src/Rewards.cpp`
- 직렬화:
  - `include/CodexOfPowerNG/SerializationWriteFlow.h`
  - `src/SerializationSave.cpp`
  - `src/SerializationLoad.cpp`
- Prisma UI 요청/버튼:
  - `src/PrismaUIRequests.cpp`
  - `src/PrismaUIRequestOps.cpp`
  - `src/PrismaUIRequestOps.h`
  - `PrismaUI/views/codexofpowerng/ui_wiring.js`
  - `PrismaUI/views/codexofpowerng/index.html`
- 테스트:
  - `tests/ui_wiring_module.test.cjs`
  - `tests/serialization_write_flow.test.cpp`

## 검증
- `scripts/test.sh` 통과 (`JS 58/58`, `C++ host tests` 통과)
- `cmake --build --preset wsl-release` 통과
- `cmake --install build/wsl-release` 통과
- `cd dist/CodexOfPowerNG && zip -r -FS "../../releases/Codex of Power NG.zip" .` 통과

## 호환성/주의사항
- Codex of Power / SVCollection과 저장 호환되지 않습니다.
- 런타임 요구사항은 기존과 동일합니다:
  - SKSE64
  - Address Library for SKSE Plugins
  - Prisma UI
  - Media Keys Fix SKSE
- `Recover Carry +5`는 save 기준 1회 복구용 기능이며, 중복 보상용이 아닙니다.

## 패키지
- 태그: `v1.0.7-rc.9`
- 릴리즈: `https://github.com/servaltullius/CodexOfPowerNG/releases/tag/v1.0.7-rc.9`
- 에셋: `Codex of Power NG.zip`
- 저장소 내 아카이브: `releases/Codex of Power NG.zip`
